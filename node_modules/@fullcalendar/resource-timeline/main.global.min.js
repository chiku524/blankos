/*!
FullCalendar Scheduler v5.11.3
Docs & License: https://fullcalendar.io/scheduler
(c) 2022 Adam Shaw
*/
var FullCalendarResourceTimeline=function(e,t,r,n,o,i){"use strict";function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=l(r),a=l(n),c=l(o),d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function h(e){for(var r=e.depth,n=e.hasChildren,o=e.isExpanded,i=e.onExpanderClick,l=[],s=0;s<r;s+=1)l.push(t.createElement("span",{className:"fc-icon"}));var a=["fc-icon"];return n&&(o?a.push("fc-icon-minus-square"):a.push("fc-icon-plus-square")),l.push(t.createElement("span",{className:"fc-datagrid-expander"+(n?"":" fc-datagrid-expander-placeholder"),onClick:i},t.createElement("span",{className:a.join(" ")}))),t.createElement.apply(void 0,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||t)}([t.Fragment,{}],l))}function f(e){return{resource:new o.ResourceApi(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}var m=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this.props;return t.createElement(t.ContentHook,{hookProps:e.hookProps,content:e.colSpec.cellContent,defaultContent:g},(function(e,r){return t.createElement("span",{className:"fc-datagrid-cell-main",ref:e},r)}))},r}(t.BaseComponent);function g(e){return e.fieldValue||t.createElement(t.Fragment,null," ")}var C=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.refineHookProps=t.memoizeObjArg(f),r.normalizeClassNames=t.buildClassNameNormalizer(),r.onExpanderClick=function(e){var t=r.props;t.hasChildren&&r.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})},r}return u(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o=r.colSpec,i=this.refineHookProps({resource:r.resource,fieldValue:r.fieldValue,context:n}),l=this.normalizeClassNames(o.cellClassNames,i);return t.createElement(t.MountHook,{hookProps:i,didMount:o.cellDidMount,willUnmount:o.cellWillUnmount},(function(n){return t.createElement("td",{ref:n,role:"gridcell","data-resource-id":r.resource.id,className:["fc-datagrid-cell","fc-resource"].concat(l).join(" ")},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:r.innerHeight}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},o.isMain&&t.createElement(h,{depth:r.depth,hasChildren:r.hasChildren,isExpanded:r.isExpanded,onExpanderClick:e.onExpanderClick}),t.createElement(m,{hookProps:i,colSpec:o}))))}))},r}(t.BaseComponent),R=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.colSpec,o={groupValue:e.fieldValue,view:r.viewApi};return t.createElement(t.RenderHook,{hookProps:o,classNames:n.cellClassNames,content:n.cellContent,defaultContent:y,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},(function(r,n,o,i){return t.createElement("td",{ref:r,role:"gridcell",rowSpan:e.rowSpan,className:["fc-datagrid-cell","fc-resource-group"].concat(n).join(" ")},t.createElement("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-sticky",ref:o},i)))}))},r}(t.BaseComponent);function y(e){return e.groupValue||t.createElement(t.Fragment,null," ")}var E=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this.props,r=e.resource,n=e.rowSpans,i=e.depth,l=o.buildResourceFields(r);return t.createElement("tr",{role:"row"},e.colSpecs.map((function(s,a){var c=n[a];if(0===c)return null;null==c&&(c=1);var d=s.field?l[s.field]:r.title||o.getPublicId(r.id);return c>1?t.createElement(R,{key:a,colSpec:s,fieldValue:d,rowSpan:c}):t.createElement(C,{key:a,colSpec:s,resource:r,fieldValue:d,depth:i,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})})))},r}(t.BaseComponent);E.addPropsEquality({rowSpans:t.isArraysEqual});var v=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.innerInnerRef=t.createRef(),r.onExpanderClick=function(){var e=r.props;r.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})},r}return u(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o={groupValue:r.group.value,view:n.viewApi},i=r.group.spec;return t.createElement("tr",{role:"row"},t.createElement(t.RenderHook,{hookProps:o,classNames:i.labelClassNames,content:i.labelContent,defaultContent:w,didMount:i.labelDidMount,willUnmount:i.labelWillUnmount},(function(o,i,l,s){return t.createElement("th",{ref:o,role:"columnheader",scope:"colgroup",colSpan:r.spreadsheetColCnt,className:["fc-datagrid-cell","fc-resource-group",n.theme.getClass("tableCellShaded")].concat(i).join(" ")},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:r.innerHeight}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:e.innerInnerRef},t.createElement(h,{depth:0,hasChildren:!0,isExpanded:r.isExpanded,onExpanderClick:e.onExpanderClick}),t.createElement("span",{className:"fc-datagrid-cell-main",ref:l},s))))})))},r}(t.BaseComponent);function w(e){return e.groupValue||t.createElement(t.Fragment,null," ")}v.addPropsEquality({group:o.isGroupsEqual});var S=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.resizerElRefs=new t.RefMap(r._handleColResizerEl.bind(r)),r.colDraggings={},r}return u(r,e),r.prototype.render=function(){var e=this,r=this.props,n=r.colSpecs,o=r.superHeaderRendering,i=r.rowInnerHeights,l={view:this.context.viewApi},s=[];if(i=i.slice(),o){var a=i.shift();s.push(t.createElement("tr",{key:"row-super",role:"row"},t.createElement(t.RenderHook,{hookProps:l,classNames:o.headerClassNames,content:o.headerContent,didMount:o.headerDidMount,willUnmount:o.headerWillUnmount},(function(e,r,o,i){return t.createElement("th",{ref:e,role:"columnheader",scope:"colgroup",colSpan:n.length,className:["fc-datagrid-cell","fc-datagrid-cell-super"].concat(r).join(" ")},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:a}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:o},i)))}))))}var c=i.shift();return s.push(t.createElement("tr",{key:"row",role:"row"},n.map((function(r,o){var i=o===n.length-1;return t.createElement(t.RenderHook,{key:o,hookProps:l,classNames:r.headerClassNames,content:r.headerContent,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},(function(n,l,s,a){return t.createElement("th",{ref:n,role:"columnheader",className:["fc-datagrid-cell"].concat(l).join(" ")},t.createElement("div",{className:"fc-datagrid-cell-frame",style:{height:c}},t.createElement("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},r.isMain&&t.createElement("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},t.createElement("span",{className:"fc-icon"})),t.createElement("span",{className:"fc-datagrid-cell-main",ref:s},a)),!i&&t.createElement("div",{className:"fc-datagrid-cell-resizer",ref:e.resizerElRefs.createRef(o)})))}))})))),t.createElement(t.Fragment,null,s)},r.prototype._handleColResizerEl=function(e,t){var r,n=this.colDraggings;e?(r=this.initColResizing(e,parseInt(t,10)))&&(n[t]=r):(r=n[t])&&(r.destroy(),delete n[t])},r.prototype.initColResizing=function(e,r){var n=this.context,o=n.pluginHooks,i=n.isRtl,l=this.props.onColWidthChange,s=o.elementDraggingImpl;if(s){var a,c,d=new s(e);return d.emitter.on("dragstart",(function(){var n=t.findElements(t.elementClosest(e,"tr"),"th");c=n.map((function(e){return e.getBoundingClientRect().width})),a=c[r]})),d.emitter.on("dragmove",(function(e){c[r]=Math.max(a+e.deltaX*(i?-1:1),20),l&&l(c.slice())})),d.setAutoScrollEnabled(!1),d}return null},r}(t.BaseComponent),b=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n={resource:new o.ResourceApi(r,e.resource)};return t.createElement(t.ContentHook,{hookProps:n,content:r.options.resourceLaneContent},(function(e,r){return r&&t.createElement("div",{className:"fc-timeline-lane-misc",ref:e},r)}))},r}(t.BaseComponent),N=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.refineHookProps=t.memoizeObjArg(H),r.normalizeClassNames=t.buildClassNameNormalizer(),r.handleHeightChange=function(e,n){r.props.onHeightChange&&r.props.onHeightChange(t.elementClosest(e,"tr"),n)},r}return u(r,e),r.prototype.render=function(){var e=this,r=this.props,o=this.context,i=o.options,l=this.refineHookProps({resource:r.resource,context:o}),s=this.normalizeClassNames(i.resourceLaneClassNames,l);return t.createElement("tr",{ref:r.elRef},t.createElement(t.MountHook,{hookProps:l,didMount:i.resourceLaneDidMount,willUnmount:i.resourceLaneWillUnmount},(function(o){return t.createElement("td",{ref:o,className:["fc-timeline-lane","fc-resource"].concat(s).join(" "),"data-resource-id":r.resource.id},t.createElement("div",{className:"fc-timeline-lane-frame",style:{height:r.innerHeight}},t.createElement(b,{resource:r.resource}),t.createElement(n.TimelineLane,{dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:r.nextDayThreshold,businessHours:r.businessHours,eventStore:r.eventStore,eventUiBases:r.eventUiBases,dateSelection:r.dateSelection,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,timelineCoords:r.timelineCoords,onHeightChange:e.handleHeightChange,resourceId:r.resource.id})))})))},r}(t.BaseComponent);function H(e){return{resource:new o.ResourceApi(e.context,e.resource)}}var D=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.props.renderingHooks,o={groupValue:r.groupValue,view:this.context.viewApi};return t.createElement("tr",{ref:r.elRef},t.createElement(t.RenderHook,{hookProps:o,classNames:n.laneClassNames,content:n.laneContent,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},(function(n,o,i,l){return t.createElement("td",{ref:n,className:["fc-timeline-lane","fc-resource-group",e.context.theme.getClass("tableCellShaded")].concat(o).join(" ")},t.createElement("div",{style:{height:r.innerHeight},ref:i},l))})))},r}(t.BaseComponent),x=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return u(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.rowElRefs,o=e.innerHeights;return t.createElement("tbody",null,e.rowNodes.map((function(i,l){if(i.group)return t.createElement(D,{key:i.id,elRef:n.createRef(i.id),groupValue:i.group.value,renderingHooks:i.group.spec,innerHeight:o[l]||""});if(i.resource){var s=i.resource;return t.createElement(N,p({key:i.id,elRef:n.createRef(i.id)},e.splitProps[s.id],{resource:s,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:r.options.nextDayThreshold,businessHours:s.businessHours||e.fallbackBusinessHours,innerHeight:o[l]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}return null})))},r}(t.BaseComponent),k=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.rootElRef=t.createRef(),r.rowElRefs=new t.RefMap,r}return u(r,e),r.prototype.render=function(){var e=this.props,r=this.context;return t.createElement("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},t.createElement(x,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))},r.prototype.componentDidMount=function(){this.updateCoords()},r.prototype.componentDidUpdate=function(){this.updateCoords()},r.prototype.componentWillUnmount=function(){this.props.onRowCoords&&this.props.onRowCoords(null)},r.prototype.updateCoords=function(){var e,r=this.props;r.onRowCoords&&null!==r.clientWidth&&this.props.onRowCoords(new t.PositionCache(this.rootElRef.current,(e=this.rowElRefs.currentMap,r.rowNodes.map((function(t){return e[t.id]}))),!1,!0))},r}(t.BaseComponent);var P=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.computeHasResourceBusinessHours=t.memoize(W),r.resourceSplitter=new o.ResourceSplitter,r.bgSlicer=new n.TimelineLaneSlicer,r.slatsRef=t.createRef(),r.state={slatCoords:null},r.handleEl=function(e){e?r.context.registerInteractiveComponent(r,{el:e}):r.context.unregisterInteractiveComponent(r)},r.handleSlatCoords=function(e){r.setState({slatCoords:e}),r.props.onSlatCoords&&r.props.onSlatCoords(e)},r.handleRowCoords=function(e){r.rowCoords=e,r.props.onRowCoords&&r.props.onRowCoords(e)},r}return u(r,e),r.prototype.render=function(){var e=this,r=this,o=r.props,i=r.state,l=r.context,s=o.dateProfile,a=o.tDateProfile,c=t.greatestDurationDenominator(a.slotDuration).unit,d=this.computeHasResourceBusinessHours(o.rowNodes),u=this.resourceSplitter.splitProps(o),p=u[""],h=this.bgSlicer.sliceProps(p,s,a.isTimeScale?null:o.nextDayThreshold,l,s,l.dateProfileGenerator,a,l.dateEnv),f=i.slatCoords&&i.slatCoords.dateProfile===o.dateProfile?i.slatCoords:null;return t.createElement("div",{ref:this.handleEl,className:["fc-timeline-body",o.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:o.tableMinWidth}},t.createElement(t.NowTimer,{unit:c},(function(r,i){return t.createElement(t.Fragment,null,t.createElement(n.TimelineSlats,{ref:e.slatsRef,dateProfile:s,tDateProfile:a,nowDate:r,todayRange:i,clientWidth:o.clientWidth,tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,onCoords:e.handleSlatCoords,onScrollLeftRequest:o.onScrollLeftRequest}),t.createElement(n.TimelineLaneBg,{businessHourSegs:d?null:h.businessHourSegs,bgEventSegs:h.bgEventSegs,timelineCoords:f,eventResizeSegs:h.eventResize?h.eventResize.segs:[],dateSelectionSegs:h.dateSelectionSegs,nowDate:r,todayRange:i}),t.createElement(k,{rowNodes:o.rowNodes,dateProfile:s,tDateProfile:o.tDateProfile,nowDate:r,todayRange:i,splitProps:u,fallbackBusinessHours:d?o.businessHours:null,clientWidth:o.clientWidth,minHeight:o.expandRows?o.clientHeight:"",tableMinWidth:o.tableMinWidth,innerHeights:o.rowInnerHeights,slatCoords:f,onRowCoords:e.handleRowCoords,onRowHeightChange:o.onRowHeightChange}),l.options.nowIndicator&&f&&f.isDateInRange(r)&&t.createElement("div",{className:"fc-timeline-now-indicator-container"},t.createElement(t.NowIndicatorRoot,{isAxis:!1,date:r},(function(e,o,i,s){return t.createElement("div",{ref:e,className:["fc-timeline-now-indicator-line"].concat(o).join(" "),style:n.coordToCss(f.dateToCoord(r),l.isRtl)},s)}))))})))},r.prototype.queryHit=function(e,t){var r=this.rowCoords,n=r.topToIndex(t);if(null!=n){var o=this.props.rowNodes[n].resource;if(o){var i=this.slatsRef.current.positionToHit(e);if(i)return{dateProfile:this.props.dateProfile,dateSpan:{range:i.dateSpan.range,allDay:i.dateSpan.allDay,resourceId:o.id},rect:{left:i.left,right:i.right,top:r.tops[n],bottom:r.bottoms[n]},dayEl:i.dayEl,layer:0}}}return null},r}(t.DateComponent);function W(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].resource;if(n&&n.businessHours)return!0}return!1}var M=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.scrollGridRef=t.createRef(),r.timeBodyScrollerElRef=t.createRef(),r.spreadsheetHeaderChunkElRef=t.createRef(),r.rootElRef=t.createRef(),r.ensureScrollGridResizeId=0,r.state={resourceAreaWidthOverride:null},r.ensureScrollGridResize=function(){r.ensureScrollGridResizeId&&clearTimeout(r.ensureScrollGridResizeId),r.ensureScrollGridResizeId=setTimeout((function(){r.scrollGridRef.current.handleSizing(!1)}),t.config.SCROLLGRID_RESIZE_INTERVAL+1)},r}return u(r,e),r.prototype.render=function(){var e=this,r=e.props,n=e.state,o=e.context,l=o.options,s=!r.forPrint&&t.getStickyHeaderDates(l),a=!r.forPrint&&t.getStickyFooterScrollbar(l),c=[{type:"header",key:"header",syncRowHeights:!0,isSticky:s,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:r.spreadsheetHeaderRows},{key:"divider",outerContent:t.createElement("td",{role:"presentation",className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:r.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(l.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:r.spreadsheetBodyRows},{key:"divider",outerContent:t.createElement("td",{role:"presentation",className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:r.timeBodyContent}]}];a&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:t.renderScrollShim},{key:"divider",outerContent:t.createElement("td",{role:"presentation",className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:t.renderScrollShim}]});var d=null!=n.resourceAreaWidthOverride?n.resourceAreaWidthOverride:l.resourceAreaWidth;return t.createElement(i.ScrollGrid,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:!1,colGroups:[{cols:r.spreadsheetCols,width:d},{cols:[]},{cols:r.timeCols}],sections:c})},r.prototype.forceTimeScroll=function(e){this.scrollGridRef.current.forceScrollLeft(2,e)},r.prototype.forceResourceScroll=function(e){this.scrollGridRef.current.forceScrollTop(1,e)},r.prototype.getResourceScroll=function(){return this.timeBodyScrollerElRef.current.scrollTop},r.prototype.componentDidMount=function(){this.initSpreadsheetResizing()},r.prototype.componentWillUnmount=function(){this.destroySpreadsheetResizing()},r.prototype.initSpreadsheetResizing=function(){var e=this,t=this.context,r=t.isRtl,n=t.pluginHooks.elementDraggingImpl,o=this.spreadsheetHeaderChunkElRef.current;if(n){var i,l,s=this.rootElRef.current,a=this.spreadsheetResizerDragging=new n(s,".fc-resource-timeline-divider");a.emitter.on("dragstart",(function(){i=o.getBoundingClientRect().width,l=s.getBoundingClientRect().width})),a.emitter.on("dragmove",(function(t){var n=i+t.deltaX*(r?-1:1);n=Math.max(n,30),n=Math.min(n,l-30),e.setState({resourceAreaWidthOverride:n},e.ensureScrollGridResize)})),a.setAutoScrollEnabled(!1)}},r.prototype.destroySpreadsheetResizing=function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()},r}(t.BaseComponent),T=function(e){function r(r,i){var l=e.call(this,r,i)||this;return l.processColOptions=t.memoize(B),l.buildTimelineDateProfile=t.memoize(n.buildTimelineDateProfile),l.hasNesting=t.memoize(U),l.buildRowNodes=t.memoize(o.buildRowNodes),l.layoutRef=t.createRef(),l.rowNodes=[],l.renderedRowNodes=[],l.buildRowIndex=t.memoize(z),l.handleSlatCoords=function(e){l.setState({slatCoords:e})},l.handleRowCoords=function(e){l.rowCoords=e,l.scrollResponder.update(!1)},l.handleMaxCushionWidth=function(e){l.setState({slotCushionMaxWidth:Math.ceil(e)})},l.handleScrollLeftRequest=function(e){l.layoutRef.current.forceTimeScroll(e)},l.handleScrollRequest=function(e){var t=l.rowCoords,r=l.layoutRef.current,n=e.rowId||e.resourceId;if(t){if(n){var o=l.buildRowIndex(l.renderedRowNodes)[n];if(null!=o){var i=null!=e.fromBottom?t.bottoms[o]-e.fromBottom:t.tops[o];r.forceResourceScroll(i)}}return!0}return null},l.handleColWidthChange=function(e){l.setState({spreadsheetColWidths:e})},l.state={resourceAreaWidth:i.options.resourceAreaWidth,spreadsheetColWidths:[]},l}return u(r,e),r.prototype.render=function(){var e=this,r=this,o=r.props,i=r.state,l=r.context,s=l.options,a=l.viewSpec,c=this.processColOptions(l.options),d=c.superHeaderRendering,u=c.groupSpecs,p=c.orderSpecs,h=c.isVGrouping,f=c.colSpecs,m=this.buildTimelineDateProfile(o.dateProfile,l.dateEnv,s,l.dateProfileGenerator),g=this.rowNodes=this.buildRowNodes(o.resourceStore,u,p,h,o.resourceEntityExpansions,s.resourcesInitiallyExpanded),C=["fc-resource-timeline",this.hasNesting(g)?"":"fc-resource-timeline-flat","fc-timeline",!1===s.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],R=s.slotMinWidth,y=n.buildSlatCols(m,R||this.computeFallbackSlotMinWidth(m));return t.createElement(t.ViewRoot,{viewSpec:a},(function(r,s){return t.createElement("div",{ref:r,className:C.concat(s).join(" ")},t.createElement(M,{ref:e.layoutRef,forPrint:o.forPrint,isHeightAuto:o.isHeightAuto,spreadsheetCols:A(f,i.spreadsheetColWidths,""),spreadsheetHeaderRows:function(r){return t.createElement(S,{superHeaderRendering:d,colSpecs:f,onColWidthChange:e.handleColWidthChange,rowInnerHeights:r.rowSyncHeights})},spreadsheetBodyRows:function(r){return t.createElement(t.Fragment,null,e.renderSpreadsheetRows(g,f,r.rowSyncHeights))},timeCols:y,timeHeaderContent:function(r){return t.createElement(n.TimelineHeader,{clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,dateProfile:o.dateProfile,tDateProfile:m,slatCoords:i.slatCoords,rowInnerHeights:r.rowSyncHeights,onMaxCushionWidth:R?null:e.handleMaxCushionWidth})},timeBodyContent:function(r){return t.createElement(P,{dateProfile:o.dateProfile,clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,expandRows:r.expandRows,tDateProfile:m,rowNodes:g,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,resourceStore:o.resourceStore,nextDayThreshold:l.options.nextDayThreshold,rowInnerHeights:r.rowSyncHeights,onSlatCoords:e.handleSlatCoords,onRowCoords:e.handleRowCoords,onScrollLeftRequest:e.handleScrollLeftRequest,onRowHeightChange:r.reportRowHeightChange})}}))}))},r.prototype.renderSpreadsheetRows=function(e,r,n){return e.map((function(e,o){return e.group?t.createElement(v,{key:e.id,id:e.id,spreadsheetColCnt:r.length,isExpanded:e.isExpanded,group:e.group,innerHeight:n[o]||""}):e.resource?t.createElement(E,{key:e.id,colSpecs:r,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:n[o]||""}):null}))},r.prototype.componentDidMount=function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},r.prototype.getSnapshotBeforeUpdate=function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}},r.prototype.componentDidUpdate=function(e,t,r){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),r.resourceScroll&&this.handleScrollRequest(r.resourceScroll)},r.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},r.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},r.prototype.queryResourceScroll=function(){var e=this.rowCoords,t=this.renderedRowNodes;if(e){for(var r=this.layoutRef.current,n=e.bottoms,o=r.getResourceScroll(),i={},l=0;l<n.length;l+=1){var s=t[l],a=n[l]-o;if(a>0){i.rowId=s.id,i.fromBottom=a;break}}return i}return null},r}(t.BaseComponent);function z(e){for(var t={},r=0;r<e.length;r+=1)t[e[r].id]=r;return t}function A(e,t,r){return void 0===r&&(r=""),e.map((function(e,n){return{className:e.isMain?"fc-main-col":"",width:t[n]||e.width||r}}))}function U(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.group)return!0;if(n.resource&&n.hasChildren)return!0}return!1}function B(e){var t=e.resourceAreaColumns||[],r=null;t.length?e.resourceAreaHeaderContent&&(r={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent||"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount});for(var n=[],i=[],l=[],s=!1,a=0,c=t;a<c.length;a++){var d=c[a];d.group?i.push(p(p({},d),{cellClassNames:d.cellClassNames||e.resourceGroupLabelClassNames,cellContent:d.cellContent||e.resourceGroupLabelContent,cellDidMount:d.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:d.cellWillUnmount||e.resourceGroupLaneWillUnmount})):n.push(d)}var u=n[0];if(u.isMain=!0,u.cellClassNames=u.cellClassNames||e.resourceLabelClassNames,u.cellContent=u.cellContent||e.resourceLabelContent,u.cellDidMount=u.cellDidMount||e.resourceLabelDidMount,u.cellWillUnmount=u.cellWillUnmount||e.resourceLabelWillUnmount,i.length)l=i,s=!0;else{var h=e.resourceGroupField;h&&l.push({field:h,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount})}for(var f=[],m=0,g=e.resourceOrder||o.DEFAULT_RESOURCE_ORDER;m<g.length;m++){for(var C=g[m],R=!1,y=0,E=l;y<E.length;y++){var v=E[y];if(v.field===C.field){v.order=C.order,R=!0;break}}R||f.push(C)}return{superHeaderRendering:r,isVGrouping:s,groupSpecs:l,colSpecs:i.concat(n),orderSpecs:f}}T.addStateEquality({spreadsheetColWidths:t.isArraysEqual});var G=t.createPlugin({deps:[s.default,c.default,a.default],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:T,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});return t.globalPlugins.push(G),e.ResourceTimelineLane=N,e.ResourceTimelineView=T,e.SpreadsheetRow=E,e.default=G,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar,FullCalendarPremiumCommon,FullCalendarTimeline,FullCalendarResourceCommon,FullCalendarScrollGrid);